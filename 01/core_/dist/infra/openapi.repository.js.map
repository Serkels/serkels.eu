{"version":3,"sources":["../../src/infra/openapi.repository.ts"],"sourcesContent":["//\n\nimport debug from \"debug\";\nimport { Lifecycle, inject, scoped } from \"tsyringe\";\n\n//\n\n@scoped(Lifecycle.ContainerScoped)\nexport class OpenAPI_Repository<Client> {\n  #log = debug(`~:app:api:OpenAPI_Repository`);\n\n  static readonly TOKEN = {\n    CLIENT: Symbol.for(\"client\"),\n    JWT: Symbol.for(\"jwt\"),\n  };\n\n  constructor(\n    @inject(OpenAPI_Repository.TOKEN.CLIENT) public readonly client: Client,\n    @inject(OpenAPI_Repository.TOKEN.JWT) public readonly jwt?: string,\n  ) {\n    this.#log(\"new\", Boolean(jwt) ? \"üóùÔ∏è\" : \"üîí\");\n    if (jwt) {\n      this.headers.set(\"Authorization\", `Bearer ${this.jwt}`);\n      this.#log(\"üé©\");\n    }\n  }\n\n  readonly headers = new Headers();\n}\n"],"names":["debug","Lifecycle","inject","scoped","OpenAPI_Repository","client","jwt","log","TOKEN","CLIENT","Symbol","for","JWT","constructor","headers","Headers","Boolean","set","ContainerScoped"],"mappings":"AAAA,EAAE;;;;;;;;;;;;;;;AAEF,OAAOA,WAAW,QAAQ;AAC1B,SAASC,SAAS,EAAEC,MAAM,EAAEC,MAAM,QAAQ,WAAW;AAKrD,WAAaC,qBAAN;IASsDC;IACHC;IATxD,CAACC,GAAG,CAAyC;IAE7C,OAAgBC,QAAQ;QACtBC,QAAQC,OAAOC,GAAG,CAAC;QACnBC,KAAKF,OAAOC,GAAG,CAAC;IAClB,EAAE;IAEFE,YAC2DR,QACHC,IACtD;sBAFyDD;mBACHC;aATxD,CAACC,GAAG,GAAGP,MAAM,CAAC,4BAA4B,CAAC;aAkBlCc,UAAU,IAAIC;QAPrB,IAAI,CAAC,CAACR,GAAG,CAAC,OAAOS,QAAQV,OAAO,QAAQ,IAAI;QAC5C,IAAIA,KAAK;YACP,IAAI,CAACQ,OAAO,CAACG,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAACX,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,CAACC,GAAG,CAAC;QACZ,CAAC;IACH;IAESO,QAAwB;AACnC,EAAC;AApBYV;IADZD,OAAOF,UAAUiB,eAAe;IAU5BhB,aAAAA,OAAOE,mBAAmBI,KAAK,CAACC,MAAM;IACtCP,aAAAA,OAAOE,mBAAmBI,KAAK,CAACI,GAAG;;;eAD6B,kCAAA;;;GATxDR"}